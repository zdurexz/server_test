-	script	MonsterList	-1,{
OnInit:
	setarray $all_monster[0],1001,1002,1004,1005,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1018,1019,1020,1023,1024,1025,1026,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1169,1170,1174,1175,1176,1177,1178,1179,1180,1185,1186,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1211,1212,1213,1214,1215,1216,1219,1242,1243,1246,1248,1249,1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1283,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,1322,1323,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1400,1401,1402,1403,1404,1405,1406,1408,1409,1410,1412,1413,1415,1416,1417,1418,1435,1492,1493,1494,1495,1497,1498,1499,1500,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1582,1583,1584,1586,1587,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1668,1670,1671,1672,1673,1676,1677,1678,1679,1680,1681,1682,1685,1686,1687,1688,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1734,1735,1736,1737,1738,1739,1740,1745,1746,1751,1752,1753,1754,1755,1761,1762,1765,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1789,1796,1797,1829,1830,1831,1832,1833,1836,1837,1838,1839,1864,1865,1866,1867,1869,1870,1871,1873,1874,1880,1881,1882,1883,1884,1885,1894,1911,1917,1918,1919,1920,1921,1929,1956,1957,1958,1959,1960,1961,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1999,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2057,2068,2069,2070,2071,2072,2073,2074,2081,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2131,2132,2133,2134,2136,2137,2138,2140,2151,2152,2153,2154,2155,2156,2161,2162,2163,2164,2165,2166,2167,2168,2169,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2187,2188,2189,2190,2191,2192,2193,2194,2197,2198,2199,2201,2202,2203,2204,2208,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2249,2250,2251,2252,2253,2254,2255,2256,2281,2282,2283,2284,2285,2286,2287,2288,2309,2310,2311,2312,2313,2314,2315,2316,2317,2319,2322,2328,2329,2330,2331,2332,2334,2337,2338,2339,2340,2353,2354,2355,2356,2358,2360,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2375,2376,2398,2401,2404,2405,2406,2409,2410,2411,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2441,2442,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2483,2485,2528,2529,2530,2531,2532,2533,2534,2535,2536,2539,2540,2541,2542,2543,2544,2545,2546,2564,2565,2566,2567,2568,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2916,2917,2918,2919,2920,2921,2923,2939,2940,2941,2942,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3007,3008,3010,3011,3012,3013,3014,3015,3016,3017,3018,3020,3021,3022,3023,3026,3027,3028,3029,3039,3040,3041,3061,3069,3070,3071,3072,3073,3074,3108,3109,3153,3154,3155,3156,3158,3159,3175,3176,3177,3179,3180,3181,3190,3191,3192,3193,3194,3195,3196,3197,3198,3200,3208,3209,3210,3211,3212,3213,3226,3227,3228,3229,3230,3231,3232,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3442,3443,3444,3445,3447,3448,3450,3451,3452,3454,3455,3490,3495,3496,3497,3498,3499,3500,3501,3502,3503,3504,3505,3506,3507,3736,3737,3738,3739,3740,3741,3742,3743,3747,3748,3749,3787,3788;
	end;
}

prontera,164,164,3	script	Mission Board	857,{
	L_Main:
	if(BaseLevel > 99)
	.@zeny_req = .zeny_req_tier3;
	else if(BaseLevel > 50)
	.@zeny_req = .zeny_req_tier2;
	else
	.@zeny_req = .zeny_req_tier1;
	if(my_mission_board_progress){
		
		mes "คุณรับภารกิจแล้ว";
		
		mes "====";
		
		mes "โปรดล่า: ^3496eb" + getmonsterinfo(my_mission_board_mob_id,MOB_NAME) + "^000000 ^c49525(เลข Monster: " + my_mission_board_mob_id + ")^000000 เพื่อหา ^3496eb" + getitemname(my_mission_board_item_id) + "^000000 ^c49525(เลข Item: " + my_mission_board_item_id + ")^000000" + " จำนวน " + my_mission_board_item_count + " ชิ้น";
		atcommand "@whereis " + my_mission_board_mob_id;
		
		mes "====";
		
		mes "คุณมี: " + countitem(my_mission_board_item_id) + "/" + my_mission_board_item_count + " ^3496eb" + getitemname(my_mission_board_item_id) + "^000000 ชิ้น";
		
		next;
		
		if(countitem(my_mission_board_item_id) >= my_mission_board_item_count){
			
			delitem my_mission_board_item_id,my_mission_board_item_count;
			
			.@reward_zeny = rand(.zeny_reward_min,.zeny_reward_max);
			.@uip_reward = rand(.uip_reward_amount_min,.uip_reward_amount_max) + 3;
			
			if(my_mission_board_progress == 2){
				.@reward_zeny = getmonsterinfo(my_mission_board_mob_id,MOB_LV) + rand(500,1000);
				.@uip_reward = rand(.uip_reward_amount_min,.uip_reward_amount_max);
			}
			
			Zeny += .@reward_zeny;
			mes "คุณได้รับ: " + .@reward_zeny + "z";
			
			mes "====";

			upg_item_point += .@uip_reward;
			mes "คุณได้รับ: " + .@uip_reward + " UIP";
			
			my_mission_board_progress = 0;
			next;
		}
	}
	menu "อ่านวิธีทำภารกิจ",L_Info,"ต้องการภารกิจใหม่",L_Request,"ต้องการภารกิจใหม่(เลือกเอง)",L_FixRequest;

	L_Info:
	mes "^8a531a*ค่ารับภารกิจ Lv.1~50^000000: ^c45a25" + .zeny_req_tier1 + "z^000000";
	mes "^82490e*ค่ารับภารกิจ Lv.51~99^000000: ^c45a25" + .zeny_req_tier2 + "z^000000";
	mes "^753b00*ค่ารับภารกิจ Lv.100~175^000000: ^c45a25" + .zeny_req_tier3 + "z^000000";
	mes "====";
	mes "^64995d*เมื่อรับภารกิจ จะได้รับ ภารกิจสุ่มที่จะ^000000";
	mes "-ต้องหาไอเท็ม " + .item_req_min + " ~ " + .item_req_max + " ชิ้น";
	mes "====";
	mes "^793a99*เมื่อเสร็จภารกิจ จะได้รับ^000000";
	mes "-Zeny สุ่ม: " + .zeny_reward_min + " ~ " + .zeny_reward_max + "z";
	mes "-UIP สุ่ม: " + .uip_reward_amount_min + " ~ " + .uip_reward_amount_max + " บวก 3";
	mes "====";
	mes "^793a99*เมื่อเสร็จภารกิจ(เลือกเอง) จะได้รับ^000000";
	mes "-Zeny: Monster Lv. คูณสุ่ม 500 ~ 1000";
	mes "-UIP สุ่ม: " + .uip_reward_amount_min + " ~ " + .uip_reward_amount_max;
	next;
	goto L_Main;

	L_Request:
	if(Zeny >= .@zeny_req){
		Zeny -= .@zeny_req;

		my_mission_board_item_id = 0;
		
		freeloop(1);
		
		while(my_mission_board_item_id <= 0){
			
			.@mob_id = $all_monster[rand(0,getarraysize($all_monster) - 1)];
			
			if(getmobdrops(.@mob_id)){
				
				freeloop(0);
				
				.@count = $@MobDrop_count;
				copyarray .@item[0],$@MobDrop_item[0],.@count;

				my_mission_board_mob_id = .@mob_id;
				
				if(.@count > 1)
				my_mission_board_item_id = .@item[rand(0,getarraysize(.@item) - 1)];
				else
				my_mission_board_item_id = .@item[0];
				
				my_mission_board_item_count = rand(.item_req_min,.item_req_max);
				my_mission_board_progress = 1;
				
				mes "โปรดล่า: ^3496eb" + getmonsterinfo(my_mission_board_mob_id,MOB_NAME) + "^000000 ^c49525(เลข Monster: " + my_mission_board_mob_id + ")^000000 เพื่อหา ^3496eb" + getitemname(my_mission_board_item_id) + "^000000 ^c49525(เลข Item: " + my_mission_board_item_id + ")^000000" + " จำนวน " + my_mission_board_item_count + " ชิ้น";
				atcommand "@whereis " + my_mission_board_mob_id;

				if(getitemname(my_mission_board_item_id) == "null"){
					clear;
					mes "พบข้อผิดพลาด ระบบได้คืน Zeny ให้แล้ว";
					Zeny += .@zeny_req;
					close;
				}
				close;
			}
		}
		
		freeloop(0);
		close;
	}
	else{
		mes "*ค่ารับภารกิจ: " + .@zeny_req + "z";
		next;
		goto L_Main;
	}
	
	L_FixRequest:
	mes "ดู ID Monster <URL>คลิก<INFO>https://raw.githubusercontent.com/kaninhot004/rathena/bac_ro/db/re/mob_db.txt</INFO></URL>";
	input .@mid;
	next;
	if(.@mid <= 0){
		mes "ยกเลิก เรียบร้อยแล้ว";
		close;
	}
	
	freeloop(1);
	for(.@i = 0; .@i < $all_monster; .@i++){
		if(.@mid == $all_monster[.@i]){
			.@isFound = 1;
			break;
		}
	}
	freeloop(0);
	
	if(!.@isFound){
		mes "ไม่พบ Monster ดังกล่าว ลองใส่ ID Monster อื่น ๆ ดู";
		goto L_FixRequest;
	}
	
	if(!getmobdrops(.@mid)){
		mes "ไม่พบอะไร Drop เลยกับ Monster ดังกล่าว ลองใส่ ID Monster อื่น ๆ ดู";
		next;
		goto L_FixRequest;
	}
	
	.@mob_id = .@mid;
	
	if(Zeny >= .@zeny_req){
		if(getmobdrops(.@mob_id)){
			Zeny -= .@zeny_req;
			
			.@count = $@MobDrop_count;
			copyarray .@item[0],$@MobDrop_item[0],.@count;

			my_mission_board_mob_id = .@mob_id;
			
			if(.@count > 1)
			my_mission_board_item_id = .@item[rand(0,getarraysize(.@item) - 1)];
			else
			my_mission_board_item_id = .@item[0];
			
			my_mission_board_item_count = rand(.item_req_min,.item_req_max);
			my_mission_board_progress = 2;
			
			mes "โปรดล่า: ^3496eb" + getmonsterinfo(my_mission_board_mob_id,MOB_NAME) + "^000000 ^c49525(เลข Monster: " + my_mission_board_mob_id + ")^000000 เพื่อหา ^3496eb" + getitemname(my_mission_board_item_id) + "^000000 ^c49525(เลข Item: " + my_mission_board_item_id + ")^000000" + " จำนวน " + my_mission_board_item_count + " ชิ้น";
			atcommand "@whereis " + my_mission_board_mob_id;

			if(getitemname(my_mission_board_item_id) == "null"){
				mes "พบข้อผิดพลาด ทำให้เกิด Item 'null' ระบบได้คืน Zeny ให้แล้ว";
				Zeny += .@zeny_req;
				close;
			}
			close;
		}
		else{
			mes "เกิดข้อผิดพลาด";
			close;
		}
	}
	else{
		mes "*ค่ารับภารกิจ: " + .@zeny_req + "z";
		next;
		goto L_Main;
	}

OnInit://Setting
	.zeny_req_tier1 = 5000;
	.zeny_req_tier2 = 25000;
	.zeny_req_tier3 = 50000;
	.item_req_min = 10;
	.item_req_max = 100;
	.zeny_reward_min = 50000;
	.zeny_reward_max = 150000;
	.uip_reward_amount_min = 1;
	.uip_reward_amount_max = 3;
	end;
}